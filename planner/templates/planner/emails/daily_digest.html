<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>–ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π –¥–∞–π–¥–∂–µ—Å—Ç - –õ–∏—á–Ω—ã–µ –∑–∞–ø–∏—Å—É–ª—å–∫–∏</title>
    <style>
        body { font-family: Arial, sans-serif; line-height: 1.6; color: #333; }
        .container { max-width: 600px; margin: 0 auto; padding: 20px; }
        .header { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 20px; text-align: center; border-radius: 8px 8px 0 0; }
        .content { background: #f9f9f9; padding: 20px; border-radius: 0 0 8px 8px; }
        .notification { background: white; margin: 10px 0; padding: 15px; border-left: 4px solid #667eea; border-radius: 4px; }
        .task-title { font-weight: bold; color: #2c3e50; }
        .footer { text-align: center; margin-top: 20px; padding-top: 20px; border-top: 1px solid #ddd; color: #666; font-size: 12px; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üìÖ –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π –¥–∞–π–¥–∂–µ—Å—Ç</h1>
            <p>–í–∞—à–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 24 —á–∞—Å–∞</p>
        </div>

        <div class="content">
            <h2>–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ, {{ user.first_name|default:user.username }}!</h2>

            {% if notifications %}
                <p>–ó–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 24 —á–∞—Å–∞ —É –≤–∞—Å <strong>{{ notifications|length }}</strong> —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π:</p>

                {% for notification in notifications %}
                <div class="notification">
                    <div class="task-title">
                        {% if notification.notification_type == 'overdue' %}‚ö†Ô∏è{% else %}üîî{% endif %}
                        {{ notification.title }}
                    </div>
                    <p>{{ notification.message }}</p>
                    {% if notification.task %}
                    <small>
                        –ó–∞–¥–∞—á–∞: <strong>{{ notification.task.title }}</strong><br>
                        {% if notification.task.due_date %}
                        –î–µ–¥–ª–∞–π–Ω: {{ notification.task.due_date|date:"d.m.Y H:i" }}
                        {% endif %}
                    </small>
                    {% endif %}
                    <div style="color: #666; font-size: 12px; margin-top: 5px;">
                        {{ notification.created_at|date:"d.m.Y H:i" }}
                    </div>
                </div>
                {% endfor %}
            {% else %}
                <div style="text-align: center; padding: 40px 20px;">
                    <h3>üéâ –û—Ç–ª–∏—á–Ω—ã–µ –Ω–æ–≤–æ—Å—Ç–∏!</h3>
                    <p>–ó–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 24 —á–∞—Å–∞ —É –≤–∞—Å –Ω–µ –±—ã–ª–æ –Ω–æ–≤—ã—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π.</p>
                    <p>–í—Å–µ –∑–∞–¥–∞—á–∏ –ø–æ–¥ –∫–æ–Ω—Ç—Ä–æ–ª–µ–º!</p>
                </div>
            {% endif %}

            <div style="margin-top: 30px; text-align: center;">
                <a href="{{ site_url }}{% url 'planner:planning' %}" style="background: #667eea; color: white; padding: 12px 24px; text-decoration: none; border-radius: 5px; display: inline-block;">
                    üìã –ü–µ—Ä–µ–π—Ç–∏ –∫ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫—É
                </a>
            </div>
        </div>

        <div class="footer">
            <p>–õ–∏—á–Ω—ã–π –¥–Ω–µ–≤–Ω–∏–∫ - –í–∞—à –ø–æ–º–æ—â–Ω–∏–∫ –≤ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–∏!</p>
            <p><small>–≠—Ç–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–∏—Å—å–º–æ, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, –Ω–µ –æ—Ç–≤–µ—á–∞–π—Ç–µ –Ω–∞ –Ω–µ–≥–æ.</small></p>
        </div>
    </div>
</body>
</html>